<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Atlas Ridership Insights</title>
    
    <!-- Include Pure.css and Vega libraries -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/pure-min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/grids-responsive-min.css">
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
    
    <!-- Custom Styles -->
    <link rel="stylesheet" href="dashboard-styles.css">
</head>
<body>
    <!-- Container for Atlas Ridership Dashboard -->
    <div class="container-fluid mt-4">
        <!-- Header Section -->
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <div class="title-container">
                            <img src="atlas_logo.png" alt="Atlas Ridership Logo" class="img-fluid">
                            <h1>Atlas Ridership Insights</h1>
                        </div>
                    </div>
                    <div class="card-body">
                        <p class="text-center">Explore how urban population density and access to rapid transit systems have evolved over the years. This dashboard provides insights into the correlation between urbanization and transit access.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- First Visualization Section -->
        <div class="row">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header text-center">Population Near Transit Metrics</div>
                    <div class="card-body">
                        <div id="radar" class="visualization-container"></div>
                        <div class="description-box">
                            <p>This radar chart showcases the population density and proximity to transit systems across various countries. It highlights key transit metrics and urban growth, offering a comparative view of public transit reach in urbanized areas.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <div class="card">
                    <div class="card-header text-center">Urbanization vs. Transit Access</div>
                    <div class="card-body">
                        <div id="bubble" class="visualization-container-large"></div>
                        <div class="description-box">
                            <p>This scatter plot compares the urban population and proximity to transit systems over the years, revealing growth patterns in urbanization and access to public transport. Larger circles represent countries with higher population densities near transit hubs.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Second Visualization Section -->
        <div class="row">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header text-center">Transit Density Trends Over Time</div>
                    <div class="card-body">
                        <div id="bump" class="visualization-container"></div>
                        <div class="description-box">
                            <p>This bump chart captures changes in transit access across multiple countries over time. Each line represents a country's urbanization trend and transit density, providing a dynamic look at global transit systems.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <div class="card">
                    <div class="card-header text-center">People Near Transit by Year</div>
                    <div class="card-body">
                        <div id="line" class="visualization-container-large"></div>
                        <div class="description-box">
                            <p>This line chart tracks the number of people living near rapid transit systems, visualizing growth and dips over time. The chart provides a longitudinal analysis of public transit reach across key urban areas worldwide.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Additional Visualization Section -->
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-header text-center">Transit Access Map</div>
                    <div class="card-body">
                        <div id="map-vis" class="visualization-container-large"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Load and embed visualizations using Vega-Lite -->
    <script>
        function loadAndEmbedVegaLite(elementId, jsonFile) {
            fetch(jsonFile)
                .then(response => response.json())
                .then(spec => vegaEmbed(elementId, spec, { actions: false }))
                .catch(error => {
                    document.querySelector(elementId).innerHTML = `<p class="error-message">Error loading visualization: ${error.message}</p>`;
                });
        }

        // Load and embed each visualization
        loadAndEmbedVegaLite('#radar', 'radar.json');
        loadAndEmbedVegaLite('#bubble', 'bubble.json');
        loadAndEmbedVegaLite('#bump', 'bump.json');
        loadAndEmbedVegaLite('#line', 'line_chart.json');
        loadAndEmbedVegaLite('#map-vis', 'map.json');
    </script>
</body>
</html>
