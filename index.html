<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Urban Population Growth and Transit Access</title>
  <!-- Include Vega and Vega-Lite libraries -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

  <!-- Add some basic CSS for layout and text styling -->
  <style>
    /* Container for both visualizations */
    .visualization-container {
      display: flex;
      justify-content: space-between;
      margin-bottom: 20px;
    }

    /* Styling for each visualization box */
    #map-vis, #bubble-vis {
      width: 48%; /* Adjust width to fit both charts horizontally */
    }

    /* Text content styling */
    h1, h2, p {
      text-align: center;
    }

    p {
      max-width: 800px;
      margin: 20px auto;
    }
  </style>
</head>
<body>
  <h1>Exploring Urban Growth and Transit Access Over Time</h1>

  <p>
    In this visualization, we explore how urban population density and access to rapid transit systems have evolved across different countries over the years. The visualizations below provide insights into how the number of people living near rapid transit systems has grown in tandem with increasing urbanization.
  </p>

  <!-- Container for both visualizations -->
  <div class="visualization-container">
    <!-- Container for the Map Visualization -->
    <div>
      <h2>World Population Density and Rapid Transit Access</h2>
      <p>
        This map shows how different countries' urban population density has changed over the years and how many people now have access to rapid transit systems. You can see the trends in urban growth and access to transit systems.
      </p>
      <div id="map-vis"></div>
    </div>

    <!-- Container for the Bubble Chart -->
    <div>
      <h2>Population Near Rapid Transit by Year</h2>
      <p>
        This bubble chart highlights the proportion of people living near rapid transit systems in each country for a selected year. The size of each bubble represents the country's population density, and you can follow trends over time using the slider or autoplay feature.
      </p>
      <div id="bubble-vis"></div>
    </div>
  </div>

  <p>
    Together, these visualizations allow us to see the correlation between urbanization and access to public transit. Countries with higher urban population densities typically have better access to rapid transit systems. Use the interactive features to explore the data from 1975 to 2024.
  </p>

  <script type="text/javascript">
    // Load the Map visualization from your GitHub repository
    vegaEmbed('#map-vis', 'https://raw.githubusercontent.com/jarelgomes1/atlasitdp/main/visualization.vg.json')
      .then(function(result) {
        console.log("Map visualization loaded successfully!");
      }).catch(function(error) {
        console.error("Error loading the Map visualization:", error);
      });

    // Load the Bubble chart visualization from your GitHub repository
    vegaEmbed('#bubble-vis', 'https://raw.githubusercontent.com/jarelgomes1/atlasitdp/main/visualization.vl(1).json')
      .then(function(result) {
        console.log("Bubble chart visualization loaded successfully!");
      }).catch(function(error) {
        console.error("Error loading the Bubble chart visualization:", error);
      });
  </script>
</body>
</html>
